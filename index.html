<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Quantum Garden</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üå∏</text></svg>">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Narrative Ticker - mysterious messages scroll across -->
    <div id="narrative-ticker">
        <div id="ticker-content"></div>
    </div>
    
    <div id="game-container">
        <!-- Header -->
        <header id="header">
            <h1>‚öõÔ∏è Quantum Garden</h1>
            <div id="header-controls">
                <button class="header-btn" id="save-btn">üíæ Save</button>
                <button class="header-btn" id="export-btn">üì§ Export</button>
                <button class="header-btn" id="load-btn">üìÇ Load</button>
                <input type="file" id="load-file-input" accept=".json,.txt" style="display: none;">
                <button class="header-btn" id="reset-btn" style="color: var(--quantum-red);">üóëÔ∏è Reset</button>
                <button class="header-btn" id="settings-btn">‚öôÔ∏è</button>
            </div>
        </header>

        <!-- Main Content -->
        <main id="main-content">
            <!-- Left Panel: Resources & Core -->
            <aside id="left-panel">
                <div id="quantum-events-container" style="position: relative; min-height: 0;">
                    <!-- Quantum events pop up here -->
                </div>
                <section id="resources-section">
                    <!-- Resources rendered by JS -->
                </section>
                
                <div id="next-unlock-indicator">
                    <div class="next-unlock-label">üéØ Next Unlock</div>
                    <div class="next-unlock-name" id="next-unlock-name">Loading...</div>
                    <div class="next-unlock-progress">
                        <div class="next-unlock-bar">
                            <div class="next-unlock-fill" id="next-unlock-fill" style="width: 0%"></div>
                        </div>
                        <span class="next-unlock-percent" id="next-unlock-percent">0%</span>
                    </div>
                </div>
                
                <div id="coherence-bar-container" class="hidden">
                    <div class="coherence-label">
                        <span>üåÄ Coherence</span>
                        <span id="coherence-value">100%</span>
                    </div>
                    <div class="coherence-bar">
                        <div class="coherence-fill" id="coherence-fill" style="width: 100%"></div>
                    </div>
                    <div id="production-efficiency" class="efficiency-indicator">
                        <span>‚öôÔ∏è Production:</span>
                        <span id="efficiency-value">100%</span>
                    </div>
                </div>
                
                <section id="quantum-core-section">
                    <div id="quantum-core"></div>
                    <div id="core-power-display">
                        <div class="label">Click Power</div>
                        <div class="value" id="click-power-value">1</div>
                        <div class="rate" id="click-rate-value" style="font-size: 0.7em; color: var(--text-secondary);"></div>
                    </div>
                    <div id="combo-display" class="hidden">
                        <span id="combo-value">1</span>x Combo!
                    </div>
                    <div id="burst-container">
                        <div class="burst-label">Quantum Burst</div>
                        <div id="burst-bar">
                            <div id="burst-fill"></div>
                        </div>
                    </div>
                </section>
                
                <section id="log-section">
                    <h4>üìú Log</h4>
                    <div id="log-container"></div>
                </section>
            </aside>

            <!-- Center Panel: Garden -->
            <section id="center-panel">
                <div id="garden-header">
                    <h2>üå± Quantum Garden</h2>
                    <div id="garden-controls">
                        <!-- Auto toggles and entangle button rendered by JS -->
                    </div>
                    <span id="garden-info">Plots: <span id="plots-used">0</span>/<span id="plots-total">9</span></span>
                </div>
                <div id="garden-grid">
                    <!-- Garden plots rendered by JS -->
                </div>
                <div id="harvest-effects-container"></div>
                <svg id="entanglement-lines" class="entanglement-overlay"></svg>
            </section>

            <!-- Right Panel: Tabs -->
            <aside id="right-panel">
                <nav class="tab-nav">
                    <button class="tab-btn active" data-tab="generators">Plants</button>
                    <button class="tab-btn" data-tab="upgrades">Upgrades</button>
                    <button class="tab-btn" data-tab="stats">Stats</button>
                </nav>
                
                <div id="generators-tab" class="tab-content active">
                    <div id="generators-list"></div>
                </div>
                
                <div id="upgrades-tab" class="tab-content">
                    <div id="upgrades-list"></div>
                </div>
                
                <div id="stats-tab" class="tab-content">
                    <div id="stats-content"></div>
                </div>
            </aside>
        </main>
    </div>

    <!-- Plant Selection Modal -->
    <div id="plant-modal">
        <div id="plant-modal-content">
            <h3>üå± Select a Plant</h3>
            <div id="plant-options"></div>
            <button id="close-plant-modal">Cancel</button>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container"></div>
    
    <!-- Global Tooltip -->
    <div id="tooltip"></div>
    
    <!-- Reality Fracture Overlay (low coherence effect) -->
    <div id="reality-fracture-overlay"></div>
    
    <!-- Story Modal for major narrative moments -->
    <div id="story-modal">
        <div id="story-content">
            <!-- Populated by JS -->
        </div>
    </div>

    <!-- Game Scripts -->
    <script src="data/game-data.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/tooltips.js"></script>
    <script src="js/resource-gain-tracker.js"></script>
    <script src="js/state.js"></script>
    <script src="js/resources.js"></script>
    <script src="js/generators.js"></script>
    <script src="js/upgrades.js"></script>
    <script src="js/garden.js"></script>
    <script src="js/quantum.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/prestige.js"></script>
    <script src="js/narrative.js"></script>
    <script src="js/tutorial.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
